import{x as n}from"./app-w268HYa9.js";import{a as e}from"./auth-hYRPVBqP.js";import{S as o}from"./Header-CSkIi5K8.js";const s={getAll(){return e.get("/personas")},create(a){return e.post("/personas",a)},update(a,t){return e.put(`/personas/${a}`,t)},delete(a){return e.delete(`/personas/${a}`)},buscarPorDocumento(a,t){return e.post("/buscar",{tipo_documento:a,numero_documento:t})}},u=n("persona",{state:()=>({personas:[],personaEncontrada:null,loading:!1}),actions:{async fetchPersonas(){this.loading=!0;try{const{data:a}=await s.getAll();this.personas=a.data??a}finally{this.loading=!1}},async Alerta(a,t,r){o.fire({title:a,text:t,icon:r,confirmButtonText:"Aceptar"})},async buscarPersona(a,t){this.loading=!0;try{const{data:r}=await s.buscarPorDocumento(a,t);this.personaEncontrada=r}catch{this.personaEncontrada=null}finally{this.loading=!1}},async crearPersona(a){await s.create(a),await this.fetchPersonas(),this.Alerta("Exito","Persona creada con exito","success")},async actualizarPersona(a,t){await s.update(a,t),await this.fetchPersonas(),this.Alerta("Exito","Persona Actulizada con exito","success")},async eliminarPersona(a){await s.delete(a),this.personas=this.personas.filter(t=>t.id!==a)}}});export{u};
